/*! algoliasearch 3.35.1 | Â© 2014, 2015 Algolia SAS | github.com/algolia/algoliasearch-client-js */
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.algoliasearch=f()}})(function(){var define,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){(function(process){exports=module.exports=require(2);exports.log=log;exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.storage='undefined'!=typeof chrome&&'undefined'!=typeof chrome.storage?chrome.storage.local:localstorage();exports.colors=['lightseagreen','forestgreen','goldenrod','dodgerblue','darkorchid','crimson'];function useColors(){if(typeof window!=='undefined'&&window.process&&window.process.type==='renderer'){return true;}
return(typeof document!=='undefined'&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance)||(typeof window!=='undefined'&&window.console&&(window.console.firebug||(window.console.exception&&window.console.table)))||(typeof navigator!=='undefined'&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31)||(typeof navigator!=='undefined'&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));}
exports.formatters.j=function(v){try{return JSON.stringify(v);}catch(err){return'[UnexpectedJSONParseError]: '+err.message;}};function formatArgs(args){var useColors=this.useColors;args[0]=(useColors?'%c':'')
+this.namespace
+(useColors?' %c':' ')
+args[0]
+(useColors?'%c ':' ')
+'+'+exports.humanize(this.diff);if(!useColors)return;var c='color: '+this.color;args.splice(1,0,c,'color: inherit')
var index=0;var lastC=0;args[0].replace(/%[a-zA-Z%]/g,function(match){if('%%'===match)return;index++;if('%c'===match){lastC=index;}});args.splice(lastC,0,c);}
function log(){return'object'===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments);}
function save(namespaces){try{if(null==namespaces){exports.storage.removeItem('debug');}else{exports.storage.debug=namespaces;}}catch(e){}}
function load(){var r;try{r=exports.storage.debug;}catch(e){}
if(!r&&typeof process!=='undefined'&&'env'in process){r=process.env.DEBUG;}
return r;}
exports.enable(load());function localstorage(){try{return window.localStorage;}catch(e){}}}).call(this,require(11))},{"11":11,"2":2}],2:[function(require,module,exports){exports=module.exports=createDebug.debug=createDebug['default']=createDebug;exports.coerce=coerce;exports.disable=disable;exports.enable=enable;exports.enabled=enabled;exports.humanize=require(8);exports.names=[];exports.skips=[];exports.formatters={};var prevTime;function selectColor(namespace){var hash=0,i;for(i in namespace){hash=((hash<<5)-hash)+namespace.charCodeAt(i);hash|=0;}
return exports.colors[Math.abs(hash)%exports.colors.length];}
function createDebug(namespace){function debug(){if(!debug.enabled)return;var self=debug;var curr=+new Date();var ms=curr-(prevTime||curr);self.diff=ms;self.prev=prevTime;self.curr=curr;prevTime=curr;var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i];}
args[0]=exports.coerce(args[0]);if('string'!==typeof args[0]){args.unshift('%O');}
var index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,function(match,format){if(match==='%%')return match;index++;var formatter=exports.formatters[format];if('function'===typeof formatter){var val=args[index];match=formatter.call(self,val);args.splice(index,1);index--;}
return match;});exports.formatArgs.call(self,args);var logFn=debug.log||exports.log||console.log.bind(console);logFn.apply(self,args);}
debug.namespace=namespace;debug.enabled=exports.enabled(namespace);debug.useColors=exports.useColors();debug.color=selectColor(namespace);if('function'===typeof exports.init){exports.init(debug);}
return debug;}
function enable(namespaces){exports.save(namespaces);exports.names=[];exports.skips=[];var split=(typeof namespaces==='string'?namespaces:'').split(/[\s,]+/);var len=split.length;for(var i=0;i<len;i++){if(!split[i])continue;namespaces=split[i].replace(/\*/g,'.*?');if(namespaces[0]==='-'){exports.skips.push(new RegExp('^'+namespaces.substr(1)+'$'));}else{exports.names.push(new RegExp('^'+namespaces+'$'));}}}
function disable(){exports.enable('');}
function enabled(name){var i,len;for(i=0,len=exports.skips.length;i<len;i++){if(exports.skips[i].test(name)){return false;}}
for(i=0,len=exports.names.length;i<len;i++){if(exports.names[i].test(name)){return true;}}
return false;}
function coerce(val){if(val instanceof Error)return val.stack||val.message;return val;}},{"8":8}],3:[function(require,module,exports){(function(process,global){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.1
 */
(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):(global.ES6Promise=factory());}(this,(function(){'use strict';function objectOrFunction(x){var type=typeof x;return x!==null&&(type==='object'||type==='function');}
function isFunction(x){return typeof x==='function';}
var _isArray=undefined;if(Array.isArray){_isArray=Array.isArray;}else{_isArray=function(x){return Object.prototype.toString.call(x)==='[object Array]';};}
var isArray=_isArray;var len=0;var vertxNext=undefined;var customSchedulerFn=undefined;var asap=function asap(callback,arg){queue[len]=callback;queue[len+1]=arg;len+=2;if(len===2){if(customSchedulerFn){customSchedulerFn(flush);}else{scheduleFlush();}}};function setScheduler(scheduleFn){customSchedulerFn=scheduleFn;}
function setAsap(asapFn){asap=asapFn;}
var browserWindow=typeof window!=='undefined'?window:undefined;var browserGlobal=browserWindow||{};var BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver;var isNode=typeof self==='undefined'&&typeof process!=='undefined'&&({}).toString.call(process)==='[object process]';var isWorker=typeof Uint8ClampedArray!=='undefined'&&typeof importScripts!=='undefined'&&typeof MessageChannel!=='undefined';function useNextTick(){return function(){return process.nextTick(flush);};}
function useVertxTimer(){if(typeof vertxNext!=='undefined'){return function(){vertxNext(flush);};}
return useSetTimeout();}
function useMutationObserver(){var iterations=0;var observer=new BrowserMutationObserver(flush);var node=document.createTextNode('');observer.observe(node,{characterData:true});return function(){node.data=iterations=++iterations%2;};}
function useMessageChannel(){var channel=new MessageChannel();channel.port1.onmessage=flush;return function(){return channel.port2.postMessage(0);};}
function useSetTimeout(){var globalSetTimeout=setTimeout;return function(){return globalSetTimeout(flush,1);};}
var queue=new Array(1000);function flush(){for(var i=0;i<len;i+=2){var callback=queue[i];var arg=queue[i+1];callback(arg);queue[i]=undefined;queue[i+1]=undefined;}
len=0;}
function attemptVertx(){try{var r=require;var vertx=r('vertx');vertxNext=vertx.runOnLoop||vertx.runOnContext;return useVertxTimer();}catch(e){return useSetTimeout();}}
var scheduleFlush=undefined;if(isNode){scheduleFlush=useNextTick();}else if(BrowserMutationObserver){scheduleFlush=useMutationObserver();}else if(isWorker){scheduleFlush=useMessageChannel();}else if(browserWindow===undefined&&typeof require==='function'){scheduleFlush=attemptVertx();}else{scheduleFlush=useSetTimeout();}
function then(onFulfillment,onRejection){var _arguments=arguments;var parent=this;var child=new this.constructor(noop);if(child[PROMISE_ID]===undefined){makePromise(child);}
var _state=parent._state;if(_state){(function(){var callback=_arguments[_state-1];asap(function(){return invokeCallback(_state,child,callback,parent._result);});})();}else{subscribe(parent,child,onFulfillment,onRejection);}
return child;}
function resolve$1(object){var Constructor=this;if(object&&typeof object==='object'&&object.constructor===Constructor){return object;}
var promise=new Constructor(noop);resolve(promise,object);return promise;}
var PROMISE_ID=Math.random().toString(36).substring(16);function noop(){}
var PENDING=void 0;var FULFILLED=1;var REJECTED=2;var GET_THEN_ERROR=new ErrorObject();function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself");}
function cannotReturnOwn(){return new TypeError('A promises callback cannot return that same promise.');}
function getThen(promise){try{return promise.then;}catch(error){GET_THEN_ERROR.error=error;return GET_THEN_ERROR;}}
function tryThen(then$$1,value,fulfillmentHandler,rejectionHandler){try{then$$1.call(value,fulfillmentHandler,rejectionHandler);}catch(e){return e;}}
function handleForeignThenable(promise,thenable,then$$1){asap(function(promise){var sealed=false;var error=tryThen(then$$1,thenable,function(value){if(sealed){return;}
sealed=true;if(thenable!==value){resolve(promise,value);}else{fulfill(promise,value);}},function(reason){if(sealed){return;}
sealed=true;reject(promise,reason);},'Settle: '+(promise._label||' unknown promise'));if(!sealed&&error){sealed=true;reject(promise,error);}},promise);}
function handleOwnThenable(promise,thenable){if(thenable._state===FULFILLED){fulfill(promise,thenable._result);}else if(thenable._state===REJECTED){reject(promise,thenable._result);}else{subscribe(thenable,undefined,function(value){return resolve(promise,value);},function(reason){return reject(promise,reason);});}}
function handleMaybeThenable(promise,maybeThenable,then$$1){if(maybeThenable.constructor===promise.constructor&&then$$1===then&&maybeThenable.constructor.resolve===resolve$1){handleOwnThenable(promise,maybeThenable);}else{if(then$$1===GET_THEN_ERROR){reject(promise,GET_THEN_ERROR.error);GET_THEN_ERROR.error=null;}else if(then$$1===undefined){fulfill(promise,maybeThenable);}else if(isFunction(then$$1)){handleForeignThenable(promise,maybeThenable,then$$1);}else{fulfill(promise,maybeThenable);}}}
function resolve(promise,value){if(promise===value){reject(promise,selfFulfillment());}else if(objectOrFunction(value)){handleMaybeThenable(promise,value,getThen(value));}else{fulfill(promise,value);}}
function publishRejection(promise){if(promise._onerror){promise._onerror(promise._result);}
publish(promise);}
function fulfill(promise,value){if(promise._state!==PENDING){return;}
promise._result=value;promise._state=FULFILLED;if(promise._subscribers.length!==0){asap(publish,promise);}}
function reject(promise,reason){if(promise._state!==PENDING){return;}
promise._state=REJECTED;promise._result=reason;asap(publishRejection,promise);}
function subscribe(parent,child,onFulfillment,onRejection){var _subscribers=parent._subscribers;var length=_subscribers.length;parent._onerror=null;_subscribers[length]=child;_subscribers[length+FULFILLED]=onFulfillment;_subscribers[length+REJECTED]=onRejection;if(length===0&&parent._state){asap(publish,parent);}}
function publish(promise){var subscribers=promise._subscribers;var settled=promise._state;if(subscribers.length===0){return;}
var child=undefined,callback=undefined,detail=promise._result;for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];if(child){invokeCallback(settled,child,callback,detail);}else{callback(detail);}}
promise._subscribers.length=0;}
function ErrorObject(){this.error=null;}
var TRY_CATCH_ERROR=new ErrorObject();function tryCatch(callback,detail){try{return callback(detail);}catch(e){TRY_CATCH_ERROR.error=e;return TRY_CATCH_ERROR;}}
function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value=undefined,error=undefined,succeeded=undefined,failed=undefined;if(hasCallback){value=tryCatch(callback,detail);if(value===TRY_CATCH_ERROR){failed=true;error=value.error;value.error=null;}else{succeeded=true;}
if(promise===value){reject(promise,cannotReturnOwn());return;}}else{value=detail;succeeded=true;}
if(promise._state!==PENDING){}else if(hasCallback&&succeeded){resolve(promise,value);}else if(failed){reject(promise,error);}else if(settled===FULFILLED){fulfill(promise,value);}else if(settled===REJECTED){reject(promise,value);}}
function initializePromise(promise,resolver){try{resolver(function resolvePromise(value){resolve(promise,value);},function rejectPromise(reason){reject(promise,reason);});}catch(e){reject(promise,e);}}
var id=0;function nextId(){return id++;}
function makePromise(promise){promise[PROMISE_ID]=id++;promise._state=undefined;promise._result=undefined;promise._subscribers=[];}
function Enumerator$1(Constructor,input){this._instanceConstructor=Constructor;this.promise=new Constructor(noop);if(!this.promise[PROMISE_ID]){makePromise(this.promise);}
if(isArray(input)){this.length=input.length;this._remaining=input.length;this._result=new Array(this.length);if(this.length===0){fulfill(this.promise,this._result);}else{this.length=this.length||0;this._enumerate(input);if(this._remaining===0){fulfill(this.promise,this._result);}}}else{reject(this.promise,validationError());}}
function validationError(){return new Error('Array Methods must be provided an Array');}
Enumerator$1.prototype._enumerate=function(input){for(var i=0;this._state===PENDING&&i<input.length;i++){this._eachEntry(input[i],i);}};Enumerator$1.prototype._eachEntry=function(entry,i){var c=this._instanceConstructor;var resolve$$1=c.resolve;if(resolve$$1===resolve$1){var _then=getThen(entry);if(_then===then&&entry._state!==PENDING){this._settledAt(entry._state,i,entry._result);}else if(typeof _then!=='function'){this._remaining--;this._result[i]=entry;}else if(c===Promise$2){var promise=new c(noop);handleMaybeThenable(promise,entry,_then);this._willSettleAt(promise,i);}else{this._willSettleAt(new c(function(resolve$$1){return resolve$$1(entry);}),i);}}else{this._willSettleAt(resolve$$1(entry),i);}};Enumerator$1.prototype._settledAt=function(state,i,value){var promise=this.promise;if(promise._state===PENDING){this._remaining--;if(state===REJECTED){reject(promise,value);}else{this._result[i]=value;}}
if(this._remaining===0){fulfill(promise,this._result);}};Enumerator$1.prototype._willSettleAt=function(promise,i){var enumerator=this;subscribe(promise,undefined,function(value){return enumerator._settledAt(FULFILLED,i,value);},function(reason){return enumerator._settledAt(REJECTED,i,reason);});};function all$1(entries){return new Enumerator$1(this,entries).promise;}
function race$1(entries){var Constructor=this;if(!isArray(entries)){return new Constructor(function(_,reject){return reject(new TypeError('You must pass an array to race.'));});}else{return new Constructor(function(resolve,reject){var length=entries.length;for(var i=0;i<length;i++){Constructor.resolve(entries[i]).then(resolve,reject);}});}}
function reject$1(reason){var Constructor=this;var promise=new Constructor(noop);reject(promise,reason);return promise;}
function needsResolver(){throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');}
function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}
function Promise$2(resolver){this[PROMISE_ID]=nextId();this._result=this._state=undefined;this._subscribers=[];if(noop!==resolver){typeof resolver!=='function'&&needsResolver();this instanceof Promise$2?initializePromise(this,resolver):needsNew();}}
Promise$2.all=all$1;Promise$2.race=race$1;Promise$2.resolve=resolve$1;Promise$2.reject=reject$1;Promise$2._setScheduler=setScheduler;Promise$2._setAsap=setAsap;Promise$2._asap=asap;Promise$2.prototype={constructor:Promise$2,then:then,'catch':function _catch(onRejection){return this.then(null,onRejection);}};function polyfill$1(){var local=undefined;if(typeof global!=='undefined'){local=global;}else if(typeof self!=='undefined'){local=self;}else{try{local=Function('return this')();}catch(e){throw new Error('polyfill failed because global object is unavailable in this environment');}}
var P=local.Promise;if(P){var promiseToString=null;try{promiseToString=Object.prototype.toString.call(P.resolve());}catch(e){}
if(promiseToString==='[object Promise]'&&!P.cast){return;}}
local.Promise=Promise$2;}
Promise$2.polyfill=polyfill$1;Promise$2.Promise=Promise$2;return Promise$2;})));}).call(this,require(11),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"11":11}],4:[function(require,module,exports){var hasOwn=Object.prototype.hasOwnProperty;var toString=Object.prototype.toString;module.exports=function forEach(obj,fn,ctx){if(toString.call(fn)!=='[object Function]'){throw new TypeError('iterator must be a function');}
var l=obj.length;if(l===+l){for(var i=0;i<l;i++){fn.call(ctx,obj[i],i,obj);}}else{for(var k in obj){if(hasOwn.call(obj,k)){fn.call(ctx,obj[k],k,obj);}}}};},{}],5:[function(require,module,exports){(function(global){var win;if(typeof window!=="undefined"){win=window;}else if(typeof global!=="undefined"){win=global;}else if(typeof self!=="undefined"){win=self;}else{win={};}
module.exports=win;}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],6:[function(require,module,exports){if(typeof Object.create==='function'){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor
ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}});};}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor
var TempCtor=function(){}
TempCtor.prototype=superCtor.prototype
ctor.prototype=new TempCtor()
ctor.prototype.constructor=ctor}}},{}],7:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=='[object Array]';};},{}],8:[function(require,module,exports){var s=1000;var m=s*60;var h=m*60;var d=h*24;var y=d*365.25;module.exports=function(val,options){options=options||{};var type=typeof val;if(type==='string'&&val.length>0){return parse(val);}else if(type==='number'&&isNaN(val)===false){return options.long?fmtLong(val):fmtShort(val);}
throw new Error('val is not a non-empty string or a valid number. val='+
JSON.stringify(val));};function parse(str){str=String(str);if(str.length>100){return;}
var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(!match){return;}
var n=parseFloat(match[1]);var type=(match[2]||'ms').toLowerCase();switch(type){case'years':case'year':case'yrs':case'yr':case'y':return n*y;case'days':case'day':case'd':return n*d;case'hours':case'hour':case'hrs':case'hr':case'h':return n*h;case'minutes':case'minute':case'mins':case'min':case'm':return n*m;case'seconds':case'second':case'secs':case'sec':case's':return n*s;case'milliseconds':case'millisecond':case'msecs':case'msec':case'ms':return n;default:return undefined;}}
function fmtShort(ms){if(ms>=d){return Math.round(ms/d)+'d';}
if(ms>=h){return Math.round(ms/h)+'h';}
if(ms>=m){return Math.round(ms/m)+'m';}
if(ms>=s){return Math.round(ms/s)+'s';}
return ms+'ms';}
function fmtLong(ms){return plural(ms,d,'day')||plural(ms,h,'hour')||plural(ms,m,'minute')||plural(ms,s,'second')||ms+' ms';}
function plural(ms,n,name){if(ms<n){return;}
if(ms<n*1.5){return Math.floor(ms/n)+' '+name;}
return Math.ceil(ms/n)+' '+name+'s';}},{}],9:[function(require,module,exports){'use strict';var has=Object.prototype.hasOwnProperty;var toStr=Object.prototype.toString;var slice=Array.prototype.slice;var isArgs=require(10);var isEnumerable=Object.prototype.propertyIsEnumerable;var hasDontEnumBug=!isEnumerable.call({toString:null},'toString');var hasProtoEnumBug=isEnumerable.call(function(){},'prototype');var dontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'];var equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o;};var excludedKeys={$console:true,$external:true,$frame:true,$frameElement:true,$frames:true,$innerHeight:true,$innerWidth:true,$outerHeight:true,$outerWidth:true,$pageXOffset:true,$pageYOffset:true,$parent:true,$scrollLeft:true,$scrollTop:true,$scrollX:true,$scrollY:true,$self:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$window:true};var hasAutomationEqualityBug=(function(){if(typeof window==='undefined'){return false;}
for(var k in window){try{if(!excludedKeys['$'+k]&&has.call(window,k)&&window[k]!==null&&typeof window[k]==='object'){try{equalsConstructorPrototype(window[k]);}catch(e){return true;}}}catch(e){return true;}}
return false;}());var equalsConstructorPrototypeIfNotBuggy=function(o){if(typeof window==='undefined'||!hasAutomationEqualityBug){return equalsConstructorPrototype(o);}
try{return equalsConstructorPrototype(o);}catch(e){return false;}};var keysShim=function keys(object){var isObject=object!==null&&typeof object==='object';var isFunction=toStr.call(object)==='[object Function]';var isArguments=isArgs(object);var isString=isObject&&toStr.call(object)==='[object String]';var theKeys=[];if(!isObject&&!isFunction&&!isArguments){throw new TypeError('Object.keys called on a non-object');}
var skipProto=hasProtoEnumBug&&isFunction;if(isString&&object.length>0&&!has.call(object,0)){for(var i=0;i<object.length;++i){theKeys.push(String(i));}}
if(isArguments&&object.length>0){for(var j=0;j<object.length;++j){theKeys.push(String(j));}}else{for(var name in object){if(!(skipProto&&name==='prototype')&&has.call(object,name)){theKeys.push(String(name));}}}
if(hasDontEnumBug){var skipConstructor=equalsConstructorPrototypeIfNotBuggy(object);for(var k=0;k<dontEnums.length;++k){if(!(skipConstructor&&dontEnums[k]==='constructor')&&has.call(object,dontEnums[k])){theKeys.push(dontEnums[k]);}}}
return theKeys;};keysShim.shim=function shimObjectKeys(){if(Object.keys){var keysWorksWithArguments=(function(){return(Object.keys(arguments)||'').length===2;}(1,2));if(!keysWorksWithArguments){var originalKeys=Object.keys;Object.keys=function keys(object){if(isArgs(object)){return originalKeys(slice.call(object));}else{return originalKeys(object);}};}}else{Object.keys=keysShim;}
return Object.keys||keysShim;};module.exports=keysShim;},{"10":10}],10:[function(require,module,exports){'use strict';var toStr=Object.prototype.toString;module.exports=function isArguments(value){var str=toStr.call(value);var isArgs=str==='[object Arguments]';if(!isArgs){isArgs=str!=='[object Array]'&&value!==null&&typeof value==='object'&&typeof value.length==='number'&&value.length>=0&&toStr.call(value.callee)==='[object Function]';}
return isArgs;};},{}],11:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error('setTimeout has not been defined');}
function defaultClearTimeout(){throw new Error('clearTimeout has not been defined');}
(function(){try{if(typeof setTimeout==='function'){cachedSetTimeout=setTimeout;}else{cachedSetTimeout=defaultSetTimout;}}catch(e){cachedSetTimeout=defaultSetTimout;}
try{if(typeof clearTimeout==='function'){cachedClearTimeout=clearTimeout;}else{cachedClearTimeout=defaultClearTimeout;}}catch(e){cachedClearTimeout=defaultClearTimeout;}}())
function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0);}
if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0);}
try{return cachedSetTimeout(fun,0);}catch(e){try{return cachedSetTimeout.call(null,fun,0);}catch(e){return cachedSetTimeout.call(this,fun,0);}}}
function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker);}
if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker);}
try{return cachedClearTimeout(marker);}catch(e){try{return cachedClearTimeout.call(null,marker);}catch(e){return cachedClearTimeout.call(this,marker);}}}
var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return;}
draining=false;if(currentQueue.length){queue=currentQueue.concat(queue);}else{queueIndex=-1;}
if(queue.length){drainQueue();}}
function drainQueue(){if(draining){return;}
var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run();}}
queueIndex=-1;len=queue.length;}
currentQueue=null;draining=false;runClearTimeout(timeout);}
process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i];}}
queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue);}};function Item(fun,array){this.fun=fun;this.array=array;}
Item.prototype.run=function(){this.fun.apply(null,this.array);};process.title='browser';process.browser=true;process.env={};process.argv=[];process.version='';process.versions={};function noop(){}
process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error('process.binding is not supported');};process.cwd=function(){return'/'};process.chdir=function(dir){throw new Error('process.chdir is not supported');};process.umask=function(){return 0;};},{}],12:[function(require,module,exports){'use strict';function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}
module.exports=function(qs,sep,eq,options){sep=sep||'&';eq=eq||'=';var obj={};if(typeof qs!=='string'||qs.length===0){return obj;}
var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1000;if(options&&typeof options.maxKeys==='number'){maxKeys=options.maxKeys;}
var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys;}
for(var i=0;i<len;++i){var x=qs[i].replace(regexp,'%20'),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1);}else{kstr=x;vstr='';}
k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v;}else if(isArray(obj[k])){obj[k].push(v);}else{obj[k]=[obj[k],v];}}
return obj;};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==='[object Array]';};},{}],13:[function(require,module,exports){'use strict';var stringifyPrimitive=function(v){switch(typeof v){case'string':return v;case'boolean':return v?'true':'false';case'number':return isFinite(v)?v:'';default:return'';}};module.exports=function(obj,sep,eq,name){sep=sep||'&';eq=eq||'=';if(obj===null){obj=undefined;}
if(typeof obj==='object'){return map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v));}).join(sep);}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]));}}).join(sep);}
if(!name)return'';return encodeURIComponent(stringifyPrimitive(name))+eq+
encodeURIComponent(stringifyPrimitive(obj));};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==='[object Array]';};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i));}
return res;}
var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key);}
return res;};},{}],14:[function(require,module,exports){'use strict';exports.decode=exports.parse=require(12);exports.encode=exports.stringify=require(13);},{"12":12,"13":13}],15:[function(require,module,exports){(function(process){module.exports=AlgoliaSearchCore;var errors=require(25);var exitPromise=require(26);var IndexCore=require(16);var store=require(31);var MAX_API_KEY_LENGTH=500;var RESET_APP_DATA_TIMER=process.env.RESET_APP_DATA_TIMER&&parseInt(process.env.RESET_APP_DATA_TIMER,10)||60*2*1000;function AlgoliaSearchCore(applicationID,apiKey,opts){var debug=require(1)('algoliasearch');var clone=require(22);var isArray=require(7);var map=require(27);var usage='Usage: algoliasearch(applicationID, apiKey, opts)';if(opts._allowEmptyCredentials!==true&&!applicationID){throw new errors.AlgoliaSearchError('Please provide an application ID. '+usage);}
if(opts._allowEmptyCredentials!==true&&!apiKey){throw new errors.AlgoliaSearchError('Please provide an API key. '+usage);}
this.applicationID=applicationID;this.apiKey=apiKey;this.hosts={read:[],write:[]};opts=opts||{};this._timeouts=opts.timeouts||{connect:1*1000,read:2*1000,write:30*1000};if(opts.timeout){this._timeouts.connect=this._timeouts.read=this._timeouts.write=opts.timeout;}
var protocol=opts.protocol||'https:';if(!/:$/.test(protocol)){protocol=protocol+':';}
if(protocol!=='http:'&&protocol!=='https:'){throw new errors.AlgoliaSearchError('protocol must be `http:` or `https:` (was `'+opts.protocol+'`)');}
this._checkAppIdData();if(!opts.hosts){var defaultHosts=map(this._shuffleResult,function(hostNumber){return applicationID+'-'+hostNumber+'.algolianet.com';});var mainSuffix=(opts.dsn===false?'':'-dsn')+'.algolia.net';this.hosts.read=[this.applicationID+mainSuffix].concat(defaultHosts);this.hosts.write=[this.applicationID+'.algolia.net'].concat(defaultHosts);}else if(isArray(opts.hosts)){this.hosts.read=clone(opts.hosts);this.hosts.write=clone(opts.hosts);}else{this.hosts.read=clone(opts.hosts.read);this.hosts.write=clone(opts.hosts.write);}
this.hosts.read=map(this.hosts.read,prepareHost(protocol));this.hosts.write=map(this.hosts.write,prepareHost(protocol));this.extraHeaders={};this.cache=opts._cache||{};this._ua=opts._ua;this._useCache=opts._useCache===undefined||opts._cache?true:opts._useCache;this._useRequestCache=this._useCache&&opts._useRequestCache;this._useFallback=opts.useFallback===undefined?true:opts.useFallback;this._setTimeout=opts._setTimeout;debug('init done, %j',this);}
AlgoliaSearchCore.prototype.initIndex=function(indexName){return new IndexCore(this,indexName);};AlgoliaSearchCore.prototype.setExtraHeader=function(name,value){this.extraHeaders[name.toLowerCase()]=value;};AlgoliaSearchCore.prototype.getExtraHeader=function(name){return this.extraHeaders[name.toLowerCase()];};AlgoliaSearchCore.prototype.unsetExtraHeader=function(name){delete this.extraHeaders[name.toLowerCase()];};AlgoliaSearchCore.prototype.addAlgoliaAgent=function(algoliaAgent){var algoliaAgentWithDelimiter='; '+algoliaAgent;if(this._ua.indexOf(algoliaAgentWithDelimiter)===-1){this._ua+=algoliaAgentWithDelimiter;}};AlgoliaSearchCore.prototype._jsonRequest=function(initialOpts){this._checkAppIdData();var requestDebug=require(1)('algoliasearch:'+initialOpts.url);var body;var cacheID;var additionalUA=initialOpts.additionalUA||'';var cache=initialOpts.cache;var client=this;var tries=0;var usingFallback=false;var hasFallback=client._useFallback&&client._request.fallback&&initialOpts.fallback;var headers;if(this.apiKey.length>MAX_API_KEY_LENGTH&&initialOpts.body!==undefined&&(initialOpts.body.params!==undefined||initialOpts.body.requests!==undefined)){initialOpts.body.apiKey=this.apiKey;headers=this._computeRequestHeaders({additionalUA:additionalUA,withApiKey:false,headers:initialOpts.headers});}else{headers=this._computeRequestHeaders({additionalUA:additionalUA,headers:initialOpts.headers});}
if(initialOpts.body!==undefined){body=safeJSONStringify(initialOpts.body);}
requestDebug('request start');var debugData=[];function doRequest(requester,reqOpts){client._checkAppIdData();var startTime=new Date();if(client._useCache&&!client._useRequestCache){cacheID=initialOpts.url;}
if(client._useCache&&!client._useRequestCache&&body){cacheID+='_body_'+reqOpts.body;}
if(isCacheValidWithCurrentID(!client._useRequestCache,cache,cacheID)){requestDebug('serving response from cache');var responseText=cache[cacheID];return client._promise.resolve({body:JSON.parse(responseText),responseText:responseText});}
if(tries>=client.hosts[initialOpts.hostType].length){if(!hasFallback||usingFallback){requestDebug('could not get any response');return client._promise.reject(new errors.AlgoliaSearchError('Cannot connect to the AlgoliaSearch API.'+
' Send an email to support@algolia.com to report and resolve the issue.'+
' Application id was: '+client.applicationID,{debugData:debugData}));}
requestDebug('switching to fallback');tries=0;reqOpts.method=initialOpts.fallback.method;reqOpts.url=initialOpts.fallback.url;reqOpts.jsonBody=initialOpts.fallback.body;if(reqOpts.jsonBody){reqOpts.body=safeJSONStringify(reqOpts.jsonBody);}
headers=client._computeRequestHeaders({additionalUA:additionalUA,headers:initialOpts.headers});reqOpts.timeouts=client._getTimeoutsForRequest(initialOpts.hostType);client._setHostIndexByType(0,initialOpts.hostType);usingFallback=true;return doRequest(client._request.fallback,reqOpts);}
var currentHost=client._getHostByType(initialOpts.hostType);var url=currentHost+reqOpts.url;var options={body:reqOpts.body,jsonBody:reqOpts.jsonBody,method:reqOpts.method,headers:headers,timeouts:reqOpts.timeouts,debug:requestDebug,forceAuthHeaders:reqOpts.forceAuthHeaders};requestDebug('method: %s, url: %s, headers: %j, timeouts: %d',options.method,url,options.headers,options.timeouts);if(requester===client._request.fallback){requestDebug('using fallback');}
return requester.call(client,url,options).then(success,tryFallback);function success(httpResponse){var status=httpResponse&&httpResponse.body&&httpResponse.body.message&&httpResponse.body.status||httpResponse.statusCode||httpResponse&&httpResponse.body&&200;requestDebug('received response: statusCode: %s, computed statusCode: %d, headers: %j',httpResponse.statusCode,status,httpResponse.headers);var httpResponseOk=Math.floor(status/100)===2;var endTime=new Date();debugData.push({currentHost:currentHost,headers:removeCredentials(headers),content:body||null,contentLength:body!==undefined?body.length:null,method:reqOpts.method,timeouts:reqOpts.timeouts,url:reqOpts.url,startTime:startTime,endTime:endTime,duration:endTime-startTime,statusCode:status});if(httpResponseOk){if(client._useCache&&!client._useRequestCache&&cache){cache[cacheID]=httpResponse.responseText;}
return{responseText:httpResponse.responseText,body:httpResponse.body};}
var shouldRetry=Math.floor(status/100)!==4;if(shouldRetry){tries+=1;return retryRequest();}
requestDebug('unrecoverable error');var unrecoverableError=new errors.AlgoliaSearchError(httpResponse.body&&httpResponse.body.message,{debugData:debugData,statusCode:status});return client._promise.reject(unrecoverableError);}
function tryFallback(err){requestDebug('error: %s, stack: %s',err.message,err.stack);var endTime=new Date();debugData.push({currentHost:currentHost,headers:removeCredentials(headers),content:body||null,contentLength:body!==undefined?body.length:null,method:reqOpts.method,timeouts:reqOpts.timeouts,url:reqOpts.url,startTime:startTime,endTime:endTime,duration:endTime-startTime});if(!(err instanceof errors.AlgoliaSearchError)){err=new errors.Unknown(err&&err.message,err);}
tries+=1;if(err instanceof errors.Unknown||err instanceof errors.UnparsableJSON||tries>=client.hosts[initialOpts.hostType].length&&(usingFallback||!hasFallback)){err.debugData=debugData;return client._promise.reject(err);}
if(err instanceof errors.RequestTimeout){return retryRequestWithHigherTimeout();}
return retryRequest();}
function retryRequest(){requestDebug('retrying request');client._incrementHostIndex(initialOpts.hostType);return doRequest(requester,reqOpts);}
function retryRequestWithHigherTimeout(){requestDebug('retrying request with higher timeout');client._incrementHostIndex(initialOpts.hostType);client._incrementTimeoutMultipler();reqOpts.timeouts=client._getTimeoutsForRequest(initialOpts.hostType);return doRequest(requester,reqOpts);}}
function isCacheValidWithCurrentID(useRequestCache,currentCache,currentCacheID){return(client._useCache&&useRequestCache&&currentCache&&currentCache[currentCacheID]!==undefined);}
function interopCallbackReturn(request,callback){if(isCacheValidWithCurrentID(client._useRequestCache,cache,cacheID)){request.catch(function(){delete cache[cacheID];});}
if(typeof initialOpts.callback==='function'){request.then(function okCb(content){exitPromise(function(){initialOpts.callback(null,callback(content));},client._setTimeout||setTimeout);},function nookCb(err){exitPromise(function(){initialOpts.callback(err);},client._setTimeout||setTimeout);});}else{return request.then(callback);}}
if(client._useCache&&client._useRequestCache){cacheID=initialOpts.url;}
if(client._useCache&&client._useRequestCache&&body){cacheID+='_body_'+body;}
if(isCacheValidWithCurrentID(client._useRequestCache,cache,cacheID)){requestDebug('serving request from cache');var maybePromiseForCache=cache[cacheID];var promiseForCache=typeof maybePromiseForCache.then!=='function'?client._promise.resolve({responseText:maybePromiseForCache}):maybePromiseForCache;return interopCallbackReturn(promiseForCache,function(content){return JSON.parse(content.responseText);});}
var request=doRequest(client._request,{url:initialOpts.url,method:initialOpts.method,body:body,jsonBody:initialOpts.body,timeouts:client._getTimeoutsForRequest(initialOpts.hostType),forceAuthHeaders:initialOpts.forceAuthHeaders});if(client._useCache&&client._useRequestCache&&cache){cache[cacheID]=request;}
return interopCallbackReturn(request,function(content){return content.body;});};AlgoliaSearchCore.prototype._getSearchParams=function(args,params){if(args===undefined||args===null){return params;}
for(var key in args){if(key!==null&&args[key]!==undefined&&args.hasOwnProperty(key)){params+=params===''?'':'&';params+=key+'='+encodeURIComponent(Object.prototype.toString.call(args[key])==='[object Array]'?safeJSONStringify(args[key]):args[key]);}}
return params;};AlgoliaSearchCore.prototype._computeRequestHeaders=function(options){var forEach=require(4);var ua=options.additionalUA?this._ua+'; '+options.additionalUA:this._ua;var requestHeaders={'x-algolia-agent':ua,'x-algolia-application-id':this.applicationID};if(options.withApiKey!==false){requestHeaders['x-algolia-api-key']=this.apiKey;}
if(this.userToken){requestHeaders['x-algolia-usertoken']=this.userToken;}
if(this.securityTags){requestHeaders['x-algolia-tagfilters']=this.securityTags;}
forEach(this.extraHeaders,function addToRequestHeaders(value,key){requestHeaders[key]=value;});if(options.headers){forEach(options.headers,function addToRequestHeaders(value,key){requestHeaders[key]=value;});}
return requestHeaders;};AlgoliaSearchCore.prototype.search=function(queries,opts,callback){var isArray=require(7);var map=require(27);var usage='Usage: client.search(arrayOfQueries[, callback])';if(!isArray(queries)){throw new Error(usage);}
if(typeof opts==='function'){callback=opts;opts={};}else if(opts===undefined){opts={};}
var client=this;var postObj={requests:map(queries,function prepareRequest(query){var params='';if(query.query!==undefined){params+='query='+encodeURIComponent(query.query);}
return{indexName:query.indexName,params:client._getSearchParams(query.params,params)};})};var JSONPParams=map(postObj.requests,function prepareJSONPParams(request,requestId){return requestId+'='+
encodeURIComponent('/1/indexes/'+encodeURIComponent(request.indexName)+'?'+
request.params);}).join('&');var url='/1/indexes/*/queries';if(opts.strategy!==undefined){postObj.strategy=opts.strategy;}
return this._jsonRequest({cache:this.cache,method:'POST',url:url,body:postObj,hostType:'read',fallback:{method:'GET',url:'/1/indexes/*',body:{params:JSONPParams}},callback:callback});};AlgoliaSearchCore.prototype.searchForFacetValues=function(queries){var isArray=require(7);var map=require(27);var usage='Usage: client.searchForFacetValues([{indexName, params: {facetName, facetQuery, ...params}}, ...queries])';if(!isArray(queries)){throw new Error(usage);}
var client=this;return client._promise.all(map(queries,function performQuery(query){if(!query||query.indexName===undefined||query.params.facetName===undefined||query.params.facetQuery===undefined){throw new Error(usage);}
var clone=require(22);var omit=require(29);var indexName=query.indexName;var params=query.params;var facetName=params.facetName;var filteredParams=omit(clone(params),function(keyName){return keyName==='facetName';});var searchParameters=client._getSearchParams(filteredParams,'');return client._jsonRequest({cache:client.cache,method:'POST',url:'/1/indexes/'+
encodeURIComponent(indexName)+
'/facets/'+
encodeURIComponent(facetName)+
'/query',hostType:'read',body:{params:searchParameters}});}));};AlgoliaSearchCore.prototype.setSecurityTags=function(tags){if(Object.prototype.toString.call(tags)==='[object Array]'){var strTags=[];for(var i=0;i<tags.length;++i){if(Object.prototype.toString.call(tags[i])==='[object Array]'){var oredTags=[];for(var j=0;j<tags[i].length;++j){oredTags.push(tags[i][j]);}
strTags.push('('+oredTags.join(',')+')');}else{strTags.push(tags[i]);}}
tags=strTags.join(',');}
this.securityTags=tags;};AlgoliaSearchCore.prototype.setUserToken=function(userToken){this.userToken=userToken;};AlgoliaSearchCore.prototype.clearCache=function(){this.cache={};};AlgoliaSearchCore.prototype.setRequestTimeout=function(milliseconds){if(milliseconds){this._timeouts.connect=this._timeouts.read=this._timeouts.write=milliseconds;}};AlgoliaSearchCore.prototype.setTimeouts=function(timeouts){this._timeouts=timeouts;};AlgoliaSearchCore.prototype.getTimeouts=function(){return this._timeouts;};AlgoliaSearchCore.prototype._getAppIdData=function(){var data=store.get(this.applicationID);if(data!==null)this._cacheAppIdData(data);return data;};AlgoliaSearchCore.prototype._setAppIdData=function(data){data.lastChange=(new Date()).getTime();this._cacheAppIdData(data);return store.set(this.applicationID,data);};AlgoliaSearchCore.prototype._checkAppIdData=function(){var data=this._getAppIdData();var now=(new Date()).getTime();if(data===null||now-data.lastChange>RESET_APP_DATA_TIMER){return this._resetInitialAppIdData(data);}
return data;};AlgoliaSearchCore.prototype._resetInitialAppIdData=function(data){var newData=data||{};newData.hostIndexes={read:0,write:0};newData.timeoutMultiplier=1;newData.shuffleResult=newData.shuffleResult||shuffle([1,2,3]);return this._setAppIdData(newData);};AlgoliaSearchCore.prototype._cacheAppIdData=function(data){this._hostIndexes=data.hostIndexes;this._timeoutMultiplier=data.timeoutMultiplier;this._shuffleResult=data.shuffleResult;};AlgoliaSearchCore.prototype._partialAppIdDataUpdate=function(newData){var foreach=require(4);var currentData=this._getAppIdData();foreach(newData,function(value,key){currentData[key]=value;});return this._setAppIdData(currentData);};AlgoliaSearchCore.prototype._getHostByType=function(hostType){return this.hosts[hostType][this._getHostIndexByType(hostType)];};AlgoliaSearchCore.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier;};AlgoliaSearchCore.prototype._getHostIndexByType=function(hostType){return this._hostIndexes[hostType];};AlgoliaSearchCore.prototype._setHostIndexByType=function(hostIndex,hostType){var clone=require(22);var newHostIndexes=clone(this._hostIndexes);newHostIndexes[hostType]=hostIndex;this._partialAppIdDataUpdate({hostIndexes:newHostIndexes});return hostIndex;};AlgoliaSearchCore.prototype._incrementHostIndex=function(hostType){return this._setHostIndexByType((this._getHostIndexByType(hostType)+1)%this.hosts[hostType].length,hostType);};AlgoliaSearchCore.prototype._incrementTimeoutMultipler=function(){var timeoutMultiplier=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:timeoutMultiplier});};AlgoliaSearchCore.prototype._getTimeoutsForRequest=function(hostType){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[hostType]*this._timeoutMultiplier};};function prepareHost(protocol){return function prepare(host){return protocol+'//'+host.toLowerCase();};}
function safeJSONStringify(obj){if(Array.prototype.toJSON===undefined){return JSON.stringify(obj);}
var toJSON=Array.prototype.toJSON;delete Array.prototype.toJSON;var out=JSON.stringify(obj);Array.prototype.toJSON=toJSON;return out;}
function shuffle(array){var currentIndex=array.length;var temporaryValue;var randomIndex;while(currentIndex!==0){randomIndex=Math.floor(Math.random()*currentIndex);currentIndex-=1;temporaryValue=array[currentIndex];array[currentIndex]=array[randomIndex];array[randomIndex]=temporaryValue;}
return array;}
function removeCredentials(headers){var newHeaders={};for(var headerName in headers){if(Object.prototype.hasOwnProperty.call(headers,headerName)){var value;if(headerName==='x-algolia-api-key'||headerName==='x-algolia-application-id'){value='**hidden for security purposes**';}else{value=headers[headerName];}
newHeaders[headerName]=value;}}
return newHeaders;}}).call(this,require(11))},{"1":1,"11":11,"16":16,"22":22,"25":25,"26":26,"27":27,"29":29,"31":31,"4":4,"7":7}],16:[function(require,module,exports){var buildSearchMethod=require(21);var deprecate=require(23);var deprecatedMessage=require(24);module.exports=IndexCore;function IndexCore(algoliasearch,indexName){this.indexName=indexName;this.as=algoliasearch;this.typeAheadArgs=null;this.typeAheadValueOption=null;this.cache={};}
IndexCore.prototype.clearCache=function(){this.cache={};};IndexCore.prototype.search=buildSearchMethod('query');IndexCore.prototype.similarSearch=deprecate(buildSearchMethod('similarQuery'),deprecatedMessage('index.similarSearch(query[, callback])','index.search({ similarQuery: query }[, callback])'));IndexCore.prototype.browse=function(query,queryParameters,callback){var merge=require(28);var indexObj=this;var page;var hitsPerPage;if(arguments.length===0||arguments.length===1&&typeof arguments[0]==='function'){page=0;callback=arguments[0];query=undefined;}else if(typeof arguments[0]==='number'){page=arguments[0];if(typeof arguments[1]==='number'){hitsPerPage=arguments[1];}else if(typeof arguments[1]==='function'){callback=arguments[1];hitsPerPage=undefined;}
query=undefined;queryParameters=undefined;}else if(typeof arguments[0]==='object'){if(typeof arguments[1]==='function'){callback=arguments[1];}
queryParameters=arguments[0];query=undefined;}else if(typeof arguments[0]==='string'&&typeof arguments[1]==='function'){callback=arguments[1];queryParameters=undefined;}
queryParameters=merge({},queryParameters||{},{page:page,hitsPerPage:hitsPerPage,query:query});var params=this.as._getSearchParams(queryParameters,'');return this.as._jsonRequest({method:'POST',url:'/1/indexes/'+encodeURIComponent(indexObj.indexName)+'/browse',body:{params:params},hostType:'read',callback:callback});};IndexCore.prototype.browseFrom=function(cursor,callback){return this.as._jsonRequest({method:'POST',url:'/1/indexes/'+encodeURIComponent(this.indexName)+'/browse',body:{cursor:cursor},hostType:'read',callback:callback});};IndexCore.prototype.searchForFacetValues=function(params,callback){var clone=require(22);var omit=require(29);var usage='Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])';if(params.facetName===undefined||params.facetQuery===undefined){throw new Error(usage);}
var facetName=params.facetName;var filteredParams=omit(clone(params),function(keyName){return keyName==='facetName';});var searchParameters=this.as._getSearchParams(filteredParams,'');return this.as._jsonRequest({method:'POST',url:'/1/indexes/'+
encodeURIComponent(this.indexName)+'/facets/'+encodeURIComponent(facetName)+'/query',hostType:'read',body:{params:searchParameters},callback:callback});};IndexCore.prototype.searchFacet=deprecate(function(params,callback){return this.searchForFacetValues(params,callback);},deprecatedMessage('index.searchFacet(params[, callback])','index.searchForFacetValues(params[, callback])'));IndexCore.prototype._search=function(params,url,callback,additionalUA){return this.as._jsonRequest({cache:this.cache,method:'POST',url:url||'/1/indexes/'+encodeURIComponent(this.indexName)+'/query',body:{params:params},hostType:'read',fallback:{method:'GET',url:'/1/indexes/'+encodeURIComponent(this.indexName),body:{params:params}},callback:callback,additionalUA:additionalUA});};IndexCore.prototype.getObject=function(objectID,attrs,callback){var indexObj=this;if(arguments.length===1||typeof attrs==='function'){callback=attrs;attrs=undefined;}
var params='';if(attrs!==undefined){params='?attributes=';for(var i=0;i<attrs.length;++i){if(i!==0){params+=',';}
params+=attrs[i];}}
return this.as._jsonRequest({method:'GET',url:'/1/indexes/'+encodeURIComponent(indexObj.indexName)+'/'+encodeURIComponent(objectID)+params,hostType:'read',callback:callback});};IndexCore.prototype.getObjects=function(objectIDs,attributesToRetrieve,callback){var isArray=require(7);var map=require(27);var usage='Usage: index.getObjects(arrayOfObjectIDs[, callback])';if(!isArray(objectIDs)){throw new Error(usage);}
var indexObj=this;if(arguments.length===1||typeof attributesToRetrieve==='function'){callback=attributesToRetrieve;attributesToRetrieve=undefined;}
var body={requests:map(objectIDs,function prepareRequest(objectID){var request={indexName:indexObj.indexName,objectID:objectID};if(attributesToRetrieve){request.attributesToRetrieve=attributesToRetrieve.join(',');}
return request;})};return this.as._jsonRequest({method:'POST',url:'/1/indexes/*/objects',hostType:'read',body:body,callback:callback});};IndexCore.prototype.as=null;IndexCore.prototype.indexName=null;IndexCore.prototype.typeAheadArgs=null;IndexCore.prototype.typeAheadValueOption=null;},{"21":21,"22":22,"23":23,"24":24,"27":27,"28":28,"29":29,"7":7}],17:[function(require,module,exports){'use strict';var AlgoliaSearchCore=require(15);var createAlgoliasearch=require(18);module.exports=createAlgoliasearch(AlgoliaSearchCore,'Browser (lite)');},{"15":15,"18":18}],18:[function(require,module,exports){(function(process){'use strict';var global=require(5);var Promise=global.Promise||require(3).Promise;module.exports=function createAlgoliasearch(AlgoliaSearch,uaSuffix){var inherits=require(6);var errors=require(25);var inlineHeaders=require(19);var jsonpRequest=require(20);var places=require(30);uaSuffix=uaSuffix||'';if(process.env.NODE_ENV==='debug'){require(1).enable('algoliasearch*');}
function algoliasearch(applicationID,apiKey,opts){var cloneDeep=require(22);opts=cloneDeep(opts||{});opts._ua=opts._ua||algoliasearch.ua;return new AlgoliaSearchBrowser(applicationID,apiKey,opts);}
algoliasearch.version=require(32);algoliasearch.ua='Algolia for JavaScript ('+algoliasearch.version+'); '+uaSuffix;algoliasearch.initPlaces=places(algoliasearch);global.__algolia={debug:require(1),algoliasearch:algoliasearch};var support={hasXMLHttpRequest:'XMLHttpRequest'in global,hasXDomainRequest:'XDomainRequest'in global};if(support.hasXMLHttpRequest){support.cors='withCredentials'in new XMLHttpRequest();}
function AlgoliaSearchBrowser(){AlgoliaSearch.apply(this,arguments);}
inherits(AlgoliaSearchBrowser,AlgoliaSearch);AlgoliaSearchBrowser.prototype._request=function request(url,opts){return new Promise(function wrapRequest(resolve,reject){if(!support.cors&&!support.hasXDomainRequest){reject(new errors.Network('CORS not supported'));return;}
url=inlineHeaders(url,opts.headers);var body=opts.body;var req=support.cors?new XMLHttpRequest():new XDomainRequest();var reqTimeout;var timedOut;var connected=false;reqTimeout=setTimeout(onTimeout,opts.timeouts.connect);req.onprogress=onProgress;if('onreadystatechange'in req)req.onreadystatechange=onReadyStateChange;req.onload=onLoad;req.onerror=onError;if(req instanceof XMLHttpRequest){req.open(opts.method,url,true);if(opts.forceAuthHeaders){req.setRequestHeader('x-algolia-application-id',opts.headers['x-algolia-application-id']);req.setRequestHeader('x-algolia-api-key',opts.headers['x-algolia-api-key']);}}else{req.open(opts.method,url);}
if(support.cors){if(body){if(opts.method==='POST'){req.setRequestHeader('content-type','application/x-www-form-urlencoded');}else{req.setRequestHeader('content-type','application/json');}}
req.setRequestHeader('accept','application/json');}
if(body){req.send(body);}else{req.send();}
function onLoad(){if(timedOut){return;}
clearTimeout(reqTimeout);var out;try{out={body:JSON.parse(req.responseText),responseText:req.responseText,statusCode:req.status,headers:req.getAllResponseHeaders&&req.getAllResponseHeaders()||{}};}catch(e){out=new errors.UnparsableJSON({more:req.responseText});}
if(out instanceof errors.UnparsableJSON){reject(out);}else{resolve(out);}}
function onError(event){if(timedOut){return;}
clearTimeout(reqTimeout);reject(new errors.Network({more:event}));}
function onTimeout(){timedOut=true;req.abort();reject(new errors.RequestTimeout());}
function onConnect(){connected=true;clearTimeout(reqTimeout);reqTimeout=setTimeout(onTimeout,opts.timeouts.complete);}
function onProgress(){if(!connected)onConnect();}
function onReadyStateChange(){if(!connected&&req.readyState>1)onConnect();}});};AlgoliaSearchBrowser.prototype._request.fallback=function requestFallback(url,opts){url=inlineHeaders(url,opts.headers);return new Promise(function wrapJsonpRequest(resolve,reject){jsonpRequest(url,opts,function jsonpRequestDone(err,content){if(err){reject(err);return;}
resolve(content);});});};AlgoliaSearchBrowser.prototype._promise={reject:function rejectPromise(val){return Promise.reject(val);},resolve:function resolvePromise(val){return Promise.resolve(val);},delay:function delayPromise(ms){return new Promise(function resolveOnTimeout(resolve ){setTimeout(resolve,ms);});},all:function all(promises){return Promise.all(promises);}};return algoliasearch;};}).call(this,require(11))},{"1":1,"11":11,"19":19,"20":20,"22":22,"25":25,"3":3,"30":30,"32":32,"5":5,"6":6}],19:[function(require,module,exports){'use strict';module.exports=inlineHeaders;var encode=require(13);function inlineHeaders(url,headers){if(/\?/.test(url)){url+='&';}else{url+='?';}
return url+encode(headers);}},{"13":13}],20:[function(require,module,exports){'use strict';module.exports=jsonpRequest;var errors=require(25);var JSONPCounter=0;function jsonpRequest(url,opts,cb){if(opts.method!=='GET'){cb(new Error('Method '+opts.method+' '+url+' is not supported by JSONP.'));return;}
opts.debug('JSONP: start');var cbCalled=false;var timedOut=false;JSONPCounter+=1;var head=document.getElementsByTagName('head')[0];var script=document.createElement('script');var cbName='algoliaJSONP_'+JSONPCounter;var done=false;window[cbName]=function(data){removeGlobals();if(timedOut){opts.debug('JSONP: Late answer, ignoring');return;}
cbCalled=true;clean();cb(null,{body:data,responseText:JSON.stringify(data)});};url+='&callback='+cbName;if(opts.jsonBody&&opts.jsonBody.params){url+='&'+opts.jsonBody.params;}
var ontimeout=setTimeout(timeout,opts.timeouts.complete);script.onreadystatechange=readystatechange;script.onload=success;script.onerror=error;script.async=true;script.defer=true;script.src=url;head.appendChild(script);function success(){opts.debug('JSONP: success');if(done||timedOut){return;}
done=true;if(!cbCalled){opts.debug('JSONP: Fail. Script loaded but did not call the callback');clean();cb(new errors.JSONPScriptFail());}}
function readystatechange(){if(this.readyState==='loaded'||this.readyState==='complete'){success();}}
function clean(){clearTimeout(ontimeout);script.onload=null;script.onreadystatechange=null;script.onerror=null;head.removeChild(script);}
function removeGlobals(){try{delete window[cbName];delete window[cbName+'_loaded'];}catch(e){window[cbName]=window[cbName+'_loaded']=undefined;}}
function timeout(){opts.debug('JSONP: Script timeout');timedOut=true;clean();cb(new errors.RequestTimeout());}
function error(){opts.debug('JSONP: Script error');if(done||timedOut){return;}
clean();cb(new errors.JSONPScriptError());}}},{"25":25}],21:[function(require,module,exports){module.exports=buildSearchMethod;var errors=require(25);function buildSearchMethod(queryParam,url){return function search(query,args,callback){if(typeof query==='function'&&typeof args==='object'||typeof callback==='object'){throw new errors.AlgoliaSearchError('index.search usage is index.search(query, params, cb)');}
if(arguments.length===0||typeof query==='function'){callback=query;query='';}else if(arguments.length===1||typeof args==='function'){callback=args;args=undefined;}
if(typeof query==='object'&&query!==null){args=query;query=undefined;}else if(query===undefined||query===null){query='';}
var params='';if(query!==undefined){params+=queryParam+'='+encodeURIComponent(query);}
var additionalUA;if(args!==undefined){if(args.additionalUA){additionalUA=args.additionalUA;delete args.additionalUA;}
params=this.as._getSearchParams(args,params);}
return this._search(params,url,callback,additionalUA);};}},{"25":25}],22:[function(require,module,exports){module.exports=function clone(obj){return JSON.parse(JSON.stringify(obj));};},{}],23:[function(require,module,exports){module.exports=function deprecate(fn,message){var warned=false;function deprecated(){if(!warned){console.warn(message);warned=true;}
return fn.apply(this,arguments);}
return deprecated;};},{}],24:[function(require,module,exports){module.exports=function deprecatedMessage(previousUsage,newUsage){var githubAnchorLink=previousUsage.toLowerCase().replace(/[\.\(\)]/g,'');return'algoliasearch: `'+previousUsage+'` was replaced by `'+newUsage+
'`. Please see https://github.com/algolia/algoliasearch-client-javascript/wiki/Deprecated#'+githubAnchorLink;};},{}],25:[function(require,module,exports){'use strict';var inherits=require(6);function AlgoliaSearchError(message,extraProperties){var forEach=require(4);var error=this;if(typeof Error.captureStackTrace==='function'){Error.captureStackTrace(this,this.constructor);}else{error.stack=(new Error()).stack||'Cannot get a stacktrace, browser is too old';}
this.name='AlgoliaSearchError';this.message=message||'Unknown error';if(extraProperties){forEach(extraProperties,function addToErrorObject(value,key){error[key]=value;});}}
inherits(AlgoliaSearchError,Error);function createCustomError(name,message){function AlgoliaSearchCustomError(){var args=Array.prototype.slice.call(arguments,0);if(typeof args[0]!=='string'){args.unshift(message);}
AlgoliaSearchError.apply(this,args);this.name='AlgoliaSearch'+name+'Error';}
inherits(AlgoliaSearchCustomError,AlgoliaSearchError);return AlgoliaSearchCustomError;}
module.exports={AlgoliaSearchError:AlgoliaSearchError,UnparsableJSON:createCustomError('UnparsableJSON','Could not parse the incoming response as JSON, see err.more for details'),RequestTimeout:createCustomError('RequestTimeout','Request timed out before getting a response'),Network:createCustomError('Network','Network issue, see err.more for details'),JSONPScriptFail:createCustomError('JSONPScriptFail','<script> was loaded but did not call our provided callback'),ValidUntilNotFound:createCustomError('ValidUntilNotFound','The SecuredAPIKey does not have a validUntil parameter.'),JSONPScriptError:createCustomError('JSONPScriptError','<script> unable to load due to an `error` event on it'),ObjectNotFound:createCustomError('ObjectNotFound','Object not found'),Unknown:createCustomError('Unknown','Unknown error occured')};},{"4":4,"6":6}],26:[function(require,module,exports){module.exports=function exitPromise(fn,_setTimeout){_setTimeout(fn,0);};},{}],27:[function(require,module,exports){var foreach=require(4);module.exports=function map(arr,fn){var newArr=[];foreach(arr,function(item,itemIndex){newArr.push(fn(item,itemIndex,arr));});return newArr;};},{"4":4}],28:[function(require,module,exports){var foreach=require(4);module.exports=function merge(destination ){var sources=Array.prototype.slice.call(arguments);foreach(sources,function(source){for(var keyName in source){if(source.hasOwnProperty(keyName)){if(typeof destination[keyName]==='object'&&typeof source[keyName]==='object'){destination[keyName]=merge({},destination[keyName],source[keyName]);}else if(source[keyName]!==undefined){destination[keyName]=source[keyName];}}}});return destination;};},{"4":4}],29:[function(require,module,exports){module.exports=function omit(obj,test){var keys=require(9);var foreach=require(4);var filtered={};foreach(keys(obj),function doFilter(keyName){if(test(keyName)!==true){filtered[keyName]=obj[keyName];}});return filtered;};},{"4":4,"9":9}],30:[function(require,module,exports){module.exports=createPlacesClient;var qs3=require(14);var buildSearchMethod=require(21);function createPlacesClient(algoliasearch){return function places(appID,apiKey,opts){var cloneDeep=require(22);opts=opts&&cloneDeep(opts)||{};opts.hosts=opts.hosts||['places-dsn.algolia.net','places-1.algolianet.com','places-2.algolianet.com','places-3.algolianet.com'];if(arguments.length===0||typeof appID==='object'||appID===undefined){appID='';apiKey='';opts._allowEmptyCredentials=true;}
var client=algoliasearch(appID,apiKey,opts);var index=client.initIndex('places');index.search=buildSearchMethod('query','/1/places/query');index.reverse=function(options,callback){var encoded=qs3.encode(options);return this.as._jsonRequest({method:'GET',url:'/1/places/reverse?'+encoded,hostType:'read',callback:callback});};index.getObject=function(objectID,callback){return this.as._jsonRequest({method:'GET',url:'/1/places/'+encodeURIComponent(objectID),hostType:'read',callback:callback});};return index;};}},{"14":14,"21":21,"22":22}],31:[function(require,module,exports){(function(global){var debug=require(1)('algoliasearch:src/hostIndexState.js');var localStorageNamespace='algoliasearch-client-js';var store;var moduleStore={state:{},set:function(key,data){this.state[key]=data;return this.state[key];},get:function(key){return this.state[key]||null;}};var localStorageStore={set:function(key,data){moduleStore.set(key,data);try{var namespace=JSON.parse(global.localStorage[localStorageNamespace]);namespace[key]=data;global.localStorage[localStorageNamespace]=JSON.stringify(namespace);return namespace[key];}catch(e){return localStorageFailure(key,e);}},get:function(key){try{return JSON.parse(global.localStorage[localStorageNamespace])[key]||null;}catch(e){return localStorageFailure(key,e);}}};function localStorageFailure(key,e){debug('localStorage failed with',e);cleanup();store=moduleStore;return store.get(key);}
store=supportsLocalStorage()?localStorageStore:moduleStore;module.exports={get:getOrSet,set:getOrSet,supportsLocalStorage:supportsLocalStorage};function getOrSet(key,data){if(arguments.length===1){return store.get(key);}
return store.set(key,data);}
function supportsLocalStorage(){try{if('localStorage'in global&&global.localStorage!==null){if(!global.localStorage[localStorageNamespace]){global.localStorage.setItem(localStorageNamespace,JSON.stringify({}));}
return true;}
return false;}catch(_){return false;}}
function cleanup(){try{global.localStorage.removeItem(localStorageNamespace);}catch(_){}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"1":1}],32:[function(require,module,exports){'use strict';module.exports='3.35.1';},{}]},{},[17])(17)});